{"version":3,"sources":["../../../lib/ai/prompts/surgeon-assessment.ts"],"sourcesContent":["/**\n * ç”Ÿæˆã€ŒäºŒä½å¿ƒè‡Ÿå¤–ç§‘å°ˆç§‘é†«å¸«åˆ¤å®šã€æ–‡ä»¶çš„ Prompt\n */\n\nexport function generateSurgeonAssessmentPrompt(caseData: any) {\n  const systemPrompt = `ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„å°ç£é†«ç™‚æ–‡æ›¸åŠ©ç†ï¼Œå°ˆé–€å”åŠ©æ’°å¯« TAVIï¼ˆç¶“å°ç®¡ä¸»å‹•è„ˆç“£è†œç½®æ›è¡“ï¼‰å…¨æ°‘å¥åº·ä¿éšªäº‹å‰å¯©æŸ¥ç”³è«‹æ–‡ä»¶ã€‚\n\nä½ çš„ä»»å‹™æ˜¯æ ¹æ“šä½¿ç”¨è€…æä¾›çš„**çœŸå¯¦ç—…æ‚£è³‡æ–™**ï¼Œç”Ÿæˆä¸€å€‹å–®ä¸€æ®µè½çš„å°ˆæ¥­é†«ç™‚æ‘˜è¦ï¼Œç”¨æ–¼ã€ŒäºŒä½å¿ƒè‡Ÿå¤–ç§‘å°ˆç§‘é†«å¸«åˆ¤å®šã€æ–‡ä»¶ã€‚\n\nğŸš¨ **é‡è¦åŸå‰‡ï¼ˆå¿…é ˆåš´æ ¼éµå®ˆï¼‰**ï¼š\n1. **çµ•å°ä¸å¯æé€ æˆ–è‡†æ¸¬ä»»ä½•è³‡æ–™**\n2. **åªä½¿ç”¨ä½¿ç”¨è€…æä¾›çš„çœŸå¯¦è³‡æ–™**\n3. å¦‚æœæŸé …è³‡æ–™ç¼ºå°‘ï¼Œè«‹çœç•¥è©²éƒ¨åˆ†ï¼Œåˆ‡å‹¿ç·¨é€ \n4. æ‰€æœ‰æ•¸æ“šå¿…é ˆä¾†è‡ªæä¾›çš„æª¢æŸ¥å ±å‘Š\n5. é†«å¸«å§“åã€æ—¥æœŸã€æª¢æŸ¥æ•¸å€¼ç­‰å¿…é ˆå®Œå…¨æº–ç¢º\n\n**æ’°å¯«é¢¨æ ¼è¦æ±‚**ï¼š\n- ä½¿ç”¨**ç¹é«”ä¸­æ–‡ï¼ˆå°ç£ï¼‰**\n- èªå¥é€šé †è‡ªç„¶ï¼Œç¬¦åˆå°ç£é†«ç™‚æ–‡æ›¸ç¿’æ…£\n- å°ˆæ¥­ä½†ä¸ç”Ÿç¡¬ï¼Œæ˜“æ–¼é–±è®€ç†è§£\n- ç¬¦åˆå¥ä¿å±€å¯©æŸ¥æ¨™æº–\n\n**å…§å®¹çµæ§‹ï¼ˆå–®ä¸€æ®µè½ï¼ŒæŒ‰é †åºçµ„ç¹”ï¼‰**ï¼š\n1. å€‹æ¡ˆåŸºæœ¬è³‡æ–™ï¼šå§“åã€ç—…æ­·è™Ÿã€æ€§åˆ¥ã€å¹´é½¡ã€å‡ºç”Ÿæ—¥æœŸã€èº«åˆ†è­‰è™Ÿ\n2. Historyï¼šç—…å²ï¼ˆç”¨é “è™Ÿåˆ†éš”ï¼Œä¿æŒè‹±æ–‡é†«å­¸è¡“èªï¼‰\n3. å°±é†«æ­·ç¨‹ï¼šåœ¨ä½•è™•è¿½è¹¤ã€ç—‡ç‹€ç™¼ç”Ÿæ™‚é–“ã€å°±é†«ç¶“é\n4. é‡è¦æª¢æŸ¥çµæœï¼šå¿ƒè‡Ÿè¶…éŸ³æ³¢ã€å¿ƒå°ç®¡ç­‰é—œéµæ•¸æ“š\n5. å¤–ç§‘é†«å¸«è©•ä¼°ï¼šå…©ä½é†«å¸«å§“åã€STS score\n6. é å¾Œè©•ä¼°ï¼šæ—¥å¸¸ç”Ÿæ´»åŠŸèƒ½ã€å­˜æ´»æ©Ÿç‡\n7. æ‰‹è¡“å¿…è¦æ€§ï¼šå¼·èª¿ Critical AS çš„ç·Šæ€¥æ€§\n8. çµå°¾ï¼šã€Œæƒ è«‹è²´å±€åŒæ„ã€‚ã€\n\n**åƒè€ƒç¯„ä¾‹ï¼ˆåƒ…ä¾›æ ¼å¼åƒè€ƒï¼‰**ï¼š\nã€Œå€‹æ¡ˆï¼šæ´ªèŒƒé³³è‹± 04019515ï¼ˆå¥³ï¼‰85 æ­² 1940/01/18, N200935271ï¼›Historyï¼šSevere Aortic stenosisã€Hypertensionã€Hyperlipidemiaï¼Œåœ¨é–€è¨ºè¿½è¹¤æ²»ç™‚ï¼›è¿‘æœŸå¸¸ç™¼ç”Ÿæšˆçœ©åŠæšˆå€’æƒ…å½¢ï¼Œæ­¤æ¬¡æ–¼ 114/11/26 å›  Syncope è‡³æ€¥è¨ºæ±‚æ²»ã€‚æ–¼ 114/11/27 å¿ƒè‡Ÿè¶…éŸ³æ³¢æª¢æŸ¥ï¼šVery Severe AS (AVA:0.67cmÂ², Vmax:5.61m/s, Peak PG:126mmHg, Mean PG:76mmHg)ï¼Œæ–¼ 114/11/28 å®‰æ’å¿ƒå°ç®¡æª¢æŸ¥ï¼Œå† ç‹€å‹•è„ˆç„¡æ˜é¡¯ç‹¹çª„ã€‚ç¶“äºŒä½å¿ƒè‡Ÿå¤–ç§‘å°ˆç§‘é†«å¸«ï¼ˆXXXã€XXXï¼‰è©•ä¼°ï¼ŒSTS score 13.4%ï¼Œå‚³çµ±é–‹å¿ƒæ‰‹è¡“é¢¨éšªéé«˜ï¼›ç—…æ‚£å¹³æ™‚æ—¥å¸¸ç”Ÿæ´»å°šå¯è‡ªç†ï¼Œè‡¨åºŠä¸Šåˆ¤å®šç—…æ‚£è‡³å°‘æœ‰ä¸€å¹´ä»¥ä¸Šä¹‹å­˜æ´»æ©Ÿç‡ã€‚ç¶“é†«ç—…å…±äº«æ±ºç­–èˆ‡å®¶å±¬è¨è«–å¾Œï¼Œæ±ºå®šç”³è«‹ç¶“å°ç®¡ä¸»å‹•è„ˆç“£è†œç½®æ›æ‰‹è¡“ï¼ˆTAVIï¼‰ã€‚ç”±æ–¼ä¸»å‹•è„ˆç“£è†œé‡åº¦ç‹¹çª„ï¼ˆCritical ASï¼‰éš¨æ™‚éƒ½æœ‰çŒæ­»çš„å¯èƒ½ï¼Œéœ€å„˜é€Ÿæ–½è¡Œ TAVI æ‰‹è¡“ä»¥æ”¹å–„ç—‡ç‹€ï¼Œæƒ è«‹è²´å±€åŒæ„ã€‚ã€\n\n**æ ¼å¼ç´°ç¯€**ï¼š\n- æ—¥æœŸçµ±ä¸€ä½¿ç”¨æ°‘åœ‹å¹´ï¼ˆä¾‹å¦‚ï¼š114/11/26ï¼‰\n- é†«å­¸è¡“èªä¿æŒè‹±æ–‡ï¼ˆSevere ASã€LVEFã€AVA ç­‰ï¼‰\n- æ•¸å€¼è¦ç²¾ç¢ºä¸”å¸¶å–®ä½ï¼ˆå¦‚ AVA:0.67cmÂ²ï¼‰\n- ä½¿ç”¨é “è™Ÿã€Œã€ã€åˆ†éš”ä¸¦åˆ—é …ç›®\n- èªæ°£å°ˆæ¥­ã€å®¢è§€ã€ç°¡æ½”`;\n\n  const userPrompt = buildUserPrompt(caseData);\n\n  return { systemPrompt, userPrompt };\n}\n\nfunction buildUserPrompt(caseData: any): string {\n  const { patient, medicalHistory, customHistory, symptoms, customSymptoms, symptomOnset, clinicalCourse, examinations, riskAssessment, functionalStatus, prognosis } = caseData;\n\n  // 1. åŸºæœ¬è³‡æ–™\n  const patientInfo = `\nğŸ“‹ **å€‹æ¡ˆåŸºæœ¬è³‡æ–™**ï¼š\n- å§“åï¼š${patient.name}\n- ç—…æ­·è™Ÿï¼š${patient.chartNumber}\n- æ€§åˆ¥ï¼š${patient.gender === 'male' ? 'ç”·' : 'å¥³'}\n- å¹´é½¡ï¼š${calculateAge(patient.birthDate)} æ­²\n- å‡ºç”Ÿæ—¥æœŸï¼š${formatToROCDate(patient.birthDate)}\n- èº«åˆ†è­‰è™Ÿï¼š${patient.nationalId || 'ï¼ˆæœªæä¾›ï¼‰'}\n`;\n\n  // 2. ç—…å²\n  const historyList = [...medicalHistory];\n  if (customHistory && customHistory.trim()) historyList.push(customHistory);\n  const history = historyList.length > 0 ? `\nğŸ“ **ç—…å² (History)**ï¼š\n${historyList.join('ã€')}\n` : '';\n\n  // 3. ç—‡ç‹€\n  const symptomsList = [...symptoms];\n  if (customSymptoms && customSymptoms.trim()) symptomsList.push(customSymptoms);\n  const symptomsInfo = symptomsList.length > 0 || symptomOnset ? `\nğŸ©º **ç—‡ç‹€è¡¨ç¾**ï¼š\n- ä¸»è¦ç—‡ç‹€ï¼š${symptomsList.join('ã€') || 'ï¼ˆæœªè¨˜éŒ„ï¼‰'}\n- ç—‡ç‹€ç™¼ç”Ÿæ™‚é–“ï¼š${symptomOnset || 'ï¼ˆæœªè¨˜éŒ„ï¼‰'}\n` : '';\n\n  // 4. å°±é†«æ­·ç¨‹\n  const clinicalInfo = (clinicalCourse.previousCare || clinicalCourse.presentation) ? `\nğŸ¥ **å°±é†«æ­·ç¨‹**ï¼š\n${clinicalCourse.previousCare ? `- åŸè¿½è¹¤åœ°é»ï¼š${clinicalCourse.previousCare}` : ''}\n${clinicalCourse.presentation ? `- å°±é†«ç¶“éï¼š${clinicalCourse.presentation}` : ''}\n` : '';\n\n  // 5. é‡è¦æª¢æŸ¥å ±å‘Šæ‘˜è¦ï¼ˆåªé¡¯ç¤ºé—œéµæª¢æŸ¥ï¼‰\n  const keyExamTypes = ['echocardiography', 'catheterization', 'heart-ct'];\n  const keyExams = examinations.filter((exam: any) => keyExamTypes.includes(exam.type));\n  const examinationsInfo = keyExams.length > 0 ? `\nğŸ”¬ **é‡è¦æª¢æŸ¥çµæœ**ï¼š\n${keyExams.map((exam: any) => {\n    let summary = `- ${getExaminationTypeName(exam.type)}`;\n    if (exam.date) summary += `ï¼ˆ${formatToROCDate(exam.date)}ï¼‰`;\n    if (exam.textContent) {\n      // æå–é—œéµè³‡è¨Š\n      const text = exam.textContent;\n      if (exam.type === 'echocardiography') {\n        // æå– AVA, Vmax, Peak PG, Mean PG ç­‰é—œéµæ•¸æ“š\n        const avaMatch = text.match(/AVA[:\\s]*([0-9.]+)\\s*cm/i);\n        const vmaxMatch = text.match(/Vmax[:\\s]*([0-9.]+)\\s*m\\/s/i);\n        const peakMatch = text.match(/Peak\\s*PG[:\\s]*([0-9.]+)\\s*mmHg/i);\n        const meanMatch = text.match(/Mean\\s*PG[:\\s]*([0-9.]+)\\s*mmHg/i);\n\n        if (avaMatch || vmaxMatch || peakMatch || meanMatch) {\n          summary += 'ï¼š';\n          const findings = [];\n          if (avaMatch) findings.push(`AVA:${avaMatch[1]}cmÂ²`);\n          if (vmaxMatch) findings.push(`Vmax:${vmaxMatch[1]}m/s`);\n          if (peakMatch) findings.push(`Peak PG:${peakMatch[1]}mmHg`);\n          if (meanMatch) findings.push(`Mean PG:${meanMatch[1]}mmHg`);\n          summary += findings.join(', ');\n        }\n      } else if (exam.type === 'catheterization') {\n        // æå–å† ç‹€å‹•è„ˆç‹¹çª„è³‡è¨Š\n        if (text.includes('No stenosis') || text.includes('no stenosis')) {\n          summary += 'ï¼šå† ç‹€å‹•è„ˆç„¡æ˜é¡¯ç‹¹çª„';\n        }\n      }\n    }\n    return summary;\n  }).join('\\n')}\n` : '';\n\n  // 6. é¢¨éšªè©•ä¼°èˆ‡æ‰‹è¡“è¨ˆç•«\n  const riskInfo = `\nâš ï¸ **æ‰‹è¡“é¢¨éšªè©•ä¼°**ï¼š\n- STS Scoreï¼š${riskAssessment.stsScore || 'ï¼ˆæœªæä¾›ï¼‰'}\n- ç¬¬ä¸€ä½å¿ƒè‡Ÿå¤–ç§‘é†«å¸«ï¼š${riskAssessment.surgeon1 || 'ï¼ˆæœªæä¾›ï¼‰'}\n- ç¬¬äºŒä½å¿ƒè‡Ÿå¤–ç§‘é†«å¸«ï¼š${riskAssessment.surgeon2 || 'ï¼ˆæœªæä¾›ï¼‰'}\n${riskAssessment.nyhaClass ? `- NYHA å¿ƒåŠŸèƒ½åˆ†ç´šï¼šClass ${riskAssessment.nyhaClass}` : ''}\n${functionalStatus ? `- æ—¥å¸¸ç”Ÿæ´»åŠŸèƒ½ï¼š${functionalStatus}` : ''}\n${prognosis ? `- é å¾Œè©•ä¼°ï¼š${prognosis}` : ''}\n${riskAssessment.urgencyReason ? `- æ‰‹è¡“ç·Šæ€¥æ€§ï¼š${riskAssessment.urgencyReason}` : ''}\n`;\n\n  // çµ„åˆå®Œæ•´çš„ user prompt\n  return `\nè«‹æ ¹æ“šä»¥ä¸‹çœŸå¯¦ç—…æ‚£è³‡æ–™ï¼Œç”Ÿæˆä¸€å€‹**å–®ä¸€æ®µè½**çš„ TAVI äº‹å‰å¯©æŸ¥æ‘˜è¦ã€‚\n\n${patientInfo}\n${history}\n${symptomsInfo}\n${clinicalInfo}\n${examinationsInfo}\n${riskInfo}\n\nğŸ¯ **ç”ŸæˆæŒ‡ç¤º**ï¼š\n1. **å¿…é ˆæ˜¯å–®ä¸€æ®µè½**ï¼Œä¸è¦åˆ†æ®µæˆ–ä½¿ç”¨é …ç›®ç¬¦è™Ÿ\n2. æŒ‰ç…§ç¯„ä¾‹æ ¼å¼æµæš¢åœ°ä¸²æ¥å…§å®¹\n3. **åªä½¿ç”¨ä¸Šè¿°æä¾›çš„çœŸå¯¦è³‡æ–™**ï¼Œçµ•å°ä¸å¯æé€ æˆ–è‡†æ¸¬\n4. å¦‚æœæŸé …è³‡æ–™æ¨™è¨»ç‚ºã€Œï¼ˆæœªæä¾›ï¼‰ã€æˆ–ã€Œï¼ˆæœªè¨˜éŒ„ï¼‰ã€ï¼Œè«‹çœç•¥è©²éƒ¨åˆ†\n5. æ—¥æœŸå·²è½‰ç‚ºæ°‘åœ‹å¹´ï¼Œè«‹ç›´æ¥ä½¿ç”¨\n6. é†«å­¸è¡“èªä¿æŒè‹±æ–‡ï¼ˆå¦‚ Severe ASã€LVEFã€AVA ç­‰ï¼‰\n7. èªå¥è¦é€šé †è‡ªç„¶ï¼Œç¬¦åˆå°ç£é†«ç™‚æ–‡æ›¸ç¿’æ…£\n8. å¼·èª¿ä¸»å‹•è„ˆç“£è†œç‹¹çª„ï¼ˆCritical ASï¼‰çš„ç·Šæ€¥æ€§\n9. çµå°¾å¿…é ˆå¯«ï¼šã€Œæƒ è«‹è²´å±€åŒæ„ã€‚ã€\n\nè«‹é–‹å§‹ç”Ÿæˆæ‘˜è¦ï¼š\n`;\n}\n\n// è¼”åŠ©å‡½æ•¸ï¼šè¨ˆç®—å¹´é½¡\nfunction calculateAge(birthDate: string): number {\n  const birth = new Date(birthDate);\n  const today = new Date();\n  let age = today.getFullYear() - birth.getFullYear();\n  const monthDiff = today.getMonth() - birth.getMonth();\n  if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {\n    age--;\n  }\n  return age;\n}\n\n// è¼”åŠ©å‡½æ•¸ï¼šè½‰æ›ç‚ºæ°‘åœ‹å¹´æ—¥æœŸ\nfunction formatToROCDate(dateString: string): string {\n  try {\n    const date = new Date(dateString);\n    const rocYear = date.getFullYear() - 1911;\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${rocYear}/${month}/${day}`;\n  } catch (error) {\n    return dateString; // å¦‚æœè½‰æ›å¤±æ•—ï¼Œè¿”å›åŸå§‹å­—ä¸²\n  }\n}\n\n// è¼”åŠ©å‡½æ•¸ï¼šç²å–æª¢æŸ¥é¡å‹ä¸­æ–‡åç¨±\nfunction getExaminationTypeName(type: string): string {\n  const typeMap: { [key: string]: string } = {\n    'echocardiography': 'å¿ƒè‡Ÿè¶…éŸ³æ³¢æª¢æŸ¥',\n    'catheterization': 'å¿ƒå°ç®¡æª¢æŸ¥',\n    'ekg': 'å¿ƒé›»åœ–',\n    'chest-xray': 'èƒ¸éƒ¨ X å…‰',\n    'pulmonary-function': 'è‚ºåŠŸèƒ½æª¢æŸ¥',\n    'abi': 'å››è‚¢è¡€æµæ¢æ¸¬',\n    'heart-ct': 'Heart CT',\n    'myocardial-perfusion-scan': 'å¿ƒè‚ŒçŒæ³¨æƒæ',\n    'vital-signs': 'ç”Ÿç†æ¸¬é‡',\n    'lab-report': 'æª¢é©—å ±å‘Š',\n    'medical-record': 'å°±é†«ç´€éŒ„',\n    'medication-record': 'å°±é†«ç”¨è—¥',\n    'list-of-diagnosis': 'List of Diagnosis',\n    'assessment-and-plan': 'Assessment and Plan',\n    'sts-score': 'STS Score',\n  };\n  return typeMap[type] || type;\n}\n"],"names":[],"mappings":"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"}